{"ast":null,"code":"var _jsxFileName = \"/Users/aparmahajan/CS35L-Bruin-Active-/client/BA_Frontend/src/pages/Upload_Image.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { uploadImage } from '../utils/services';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../utils/IsSignedIn';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploadImage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    mainUser\n  } = useContext(AuthContext);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const [error, setErrorMessage] = useState(\"\");\n  const [success, setSuccessMessage] = useState(\"\");\n  const handleImageChange = event => {\n    const file = event.target.files[0];\n    if (file) {\n      setPreviewImage(URL.createObjectURL(file)); // Preview the image\n      setSelectedImage(file);\n    }\n  };\n  const handleUpload = async () => {\n    try {\n      console.log(selectedImage.name);\n      if (!selectedImage) {\n        setErrorMessage('Select an image.');\n        return;\n      }\n      const UploadResponse = await uploadImage(mainUser, selectedImage);\n      if (UploadResponse.error) {\n        setErrorMessage(UploadResponse.message || 'Failed to login user.');\n        return;\n      }\n      // Add upload logic here\n      setSuccessMessage('Uploaded Successfully!');\n      setTimeout(() => navigate('/'), 2000);\n    } catch (error) {\n      setErrorMessage('An unexpected error occurred.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Upload an Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleImageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), previewImage && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Preview:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: previewImage,\n        alt: \"Preview\",\n        style: {\n          maxWidth: '300px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      children: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(UploadImage, \"ihdLme8golHKTuG7xbiwaeW8rTs=\", false, function () {\n  return [useNavigate];\n});\n_c = UploadImage;\nexport default UploadImage;\nvar _c;\n$RefreshReg$(_c, \"UploadImage\");","map":{"version":3,"names":["React","useState","useContext","uploadImage","useNavigate","AuthContext","jsxDEV","_jsxDEV","UploadImage","_s","navigate","mainUser","selectedImage","setSelectedImage","previewImage","setPreviewImage","error","setErrorMessage","success","setSuccessMessage","handleImageChange","event","file","target","files","URL","createObjectURL","handleUpload","console","log","name","UploadResponse","message","setTimeout","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","src","alt","style","maxWidth","onClick","_c","$RefreshReg$"],"sources":["/Users/aparmahajan/CS35L-Bruin-Active-/client/BA_Frontend/src/pages/Upload_Image.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { uploadImage } from '../utils/services';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../utils/IsSignedIn';\n\nconst UploadImage = () => {\n    const navigate = useNavigate();\n    const { mainUser } = useContext(AuthContext);\n    const [selectedImage, setSelectedImage] = useState(null);\n    const [previewImage, setPreviewImage] = useState(null);\n    const [error, setErrorMessage] = useState(\"\");\n    const [success, setSuccessMessage] = useState(\"\");\n\n\n    const handleImageChange = (event) => {\n        const file = event.target.files[0];\n        if (file) {\n            setPreviewImage(URL.createObjectURL(file)); // Preview the image\n            setSelectedImage(file);\n        }\n    };\n\n    const handleUpload = async () => {\n        try {\n            console.log(selectedImage.name);\n            if (!selectedImage) {\n                setErrorMessage('Select an image.')\n                return;\n            }\n            const UploadResponse = await uploadImage(mainUser, selectedImage);\n\n            if (UploadResponse.error) {\n                setErrorMessage(UploadResponse.message || 'Failed to login user.');\n                return;\n            }\n            // Add upload logic here\n            setSuccessMessage('Uploaded Successfully!');\n            setTimeout(() => navigate('/'), 2000);\n        } catch (error) {\n            setErrorMessage('An unexpected error occurred.');\n        }\n    };\n\n    return (\n        <div>\n            <h2>Upload an Image</h2>\n            {error && <p>{error}</p>}\n            <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} />\n            {previewImage && (\n                <div>\n                    <h3>Preview:</h3>\n                    <img src={previewImage} alt=\"Preview\" style={{ maxWidth: '300px' }} />\n                </div>\n            )}\n            <button onClick={handleUpload}>Upload</button>\n        </div>\n    );\n}\n\nexport default UploadImage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}